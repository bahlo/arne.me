---
import { CollectionEntry, getCollection } from "astro:content";
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import Page from "../../layouts/Page.astro";
import { SITE_TITLE } from "../../consts";

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((page) => ({
    params: { slug: page.slug },
    props: page,
  }));
}
type Props = CollectionEntry<"page">;

const page = Astro.props;
const { Content } = await page.render();

const { slug } = Astro.params;
---

<Page {...page.data}>
  <Content />
</Page>
